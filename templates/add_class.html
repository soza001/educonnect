{% extends "base.html" %}
{% block title %}Ajouter une Classe{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold text-blue-600 mb-4 text-center">Ajouter une Classe</h1>

<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-lg">
    <form method="post" action="{% url 'add_class' %}" id="classForm">
        {% csrf_token %}

        <label class="block text-gray-700">Nom de la classe :</label>
        <input type="text" name="name" id="name" class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-400">
        <p id="nameError" class="text-red-500 text-sm hidden">Le nom est obligatoire.</p>

        <label class="block mt-3 text-gray-700">ID de l'école :</label>
        <input type="text" name="school_id" id="school_id" class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-400">
        <p id="schoolError" class="text-red-500 text-sm hidden">L'ID de l'école est obligatoire.</p>

        <button type="submit" class="mt-4 w-full bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700">
            Ajouter
        </button>
    </form>
</div>

<script>
document.getElementById("classForm").addEventListener("submit", function(event) {
    let valid = true;

    let name = document.getElementById("name");
    let school_id = document.getElementById("school_id");

    if (name.value.trim() === "") {
        valid = false;
        document.getElementById("nameError").classList.remove("hidden");
    } else {
        document.getElementById("nameError").classList.add("hidden");
    }

    if (school_id.value.trim() === "") {
        valid = false;
        document.getElementById("schoolError").classList.remove("hidden");
    } else {
        document.getElementById("schoolError").classList.add("hidden");
    }

    if (!valid) {
        event.preventDefault();
    }
});
</script>
{% endblock %}
